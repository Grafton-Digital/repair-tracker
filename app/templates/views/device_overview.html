<div hx-trigger="refreshOverview from:body" hx-get="/device/overview" hx-swap="outerHTML">
    <div class="space-y-6">
        <!-- Header -->
        <div class="flex justify-between items-center">
            <h1 class="text-3xl font-bold">Devices</h1>
            <button class="btn btn-primary"
                onclick="device_modal.showModal()"
            >
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                </svg>
                New Device
            </button>
        </div>

        <!-- Repairs Table -->
        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <div class="overflow-x-auto">
                    <table class="table table-zebra">
                        <thead>
                            <tr>
                                <th>Manufacturer</th>
                                <th>Model</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for device in devices %}
                            <tr>
                                <td>
                                    <div class="font-medium">{{ device.manufacturer }}</div>
                                </td>
                                <td>
                                    <div class="text-sm">{{ device.model }}</div>
                                </td>
                                <td>
                                    <button
                                        class="btn btn-error"
                                        hx-delete="/device/{{ device.id }}"
                                        hx-confirm="Are you sure you want to delete this device?"
                                        hx-target="#notification-container"
                                        hx-swap="beforeend"
                                    >
                                        Delete
                                    </button>
                                </td>
                            </tr>
                            {% endfor %}
                            {% if not devices %}
                            <tr>
                                <td colspan="7" class="text-center py-8 text-base-content/60">
                                    No devices found. Create your first device to get started.
                                </td>
                            </tr>
                            {% endif %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <dialog id="device_modal" class="modal">
        <div class="modal-box w-11/12 max-w-2xl">
            <div id="device-modal-content">
                <h3 class="font-bold text-lg mb-4">Create Device</h3>
                <form class="space-y-4"
                    hx-post="/device"
                    hx-on::after-request="device_modal.close()"
                    hx-trigger="submit"
                    hx-target="#notification-container"
                    hx-swap="beforeend"
                >
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Device Manufacturer</span>
                        </label>
                        <input 
                            autofocus 
                            name="manufacturer" 
                            type="text" 
                            class="input input-bordered w-full"
                            placeholder="Enter device manufacturer"
                            required
                        >
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Device Model</span>
                        </label>
                        <input 
                            name="model" 
                            type="text" 
                            class="input input-bordered w-full"
                            placeholder="Enter device model"
                        >
                    </div>

                    <div class="modal-action">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-ghost" onclick="device_modal.close()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </dialog>

</div>